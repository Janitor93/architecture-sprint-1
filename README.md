[TOC]

### Задание 1

Приложение Mesto было разбито на следующие микро-фронтенды:

- **_mesto_** - хост/контейнер к которому подключаются удаленные приложения. По совокупности является стейт-менеджером и может прокидывать актуальные стейты в другие компоненты. Так же является маршритизатором.

- **_auth_** - отвечает за логин и регистрацию пользователей. Содежит соответствующее api

- **_profile_** - содержит компоненты и логику по взаимодействию с профилем

- **_post_** - содержит все компоненты относящиеся к постам: лента, лайки, карточки и API-запросы для работы с ними

У каждого микрофронтенда есть свои компоненты, стили, логика по работе API и Dockerfile.

Для запуска выполнить `docker compose up`

### Задание 2

[Схема](task.xml)

В результате разбиения монолита получились следующие микросервисы:

- **_Заказы_**
- **_Нотификации_**
- **_Услуги_**
- **_Товары_**
- **_Отчеты_**
- **_Генератор документов_**
- **_Аукционы_**
- **_Аппеляции_**
- **_Пользователи_**
- **_Техническая поддержка_**
- **_Платежи_**

Пользователи взаимодействуют с микросервисами через API Gateway, который проверяет авторизацию пользователей и их роль в системе.

Практически у каждого микросервиса есть своя база данных. Кроме сервиса нотификаций и отчетов.

Так как построение отчетов может занять продолжительное время, то коммуникация с ним происходит через очередь. Сам сервис отчетности генерирует данные в формате json/xml и дальше передает их в сервис генерации, который может отдать готовый файл в нужном формате.

Для транзакций используется Saga паттерн через оркестрацию. Чтобы не перегружать сервис платежей и не посвящать его в логику других микросервисов, оркестратор будет узнавать у платежных систем статус транзакции, после чего будет менять статус транзакции и заказа, а так же отправлять нотификации пользователю с результатом платежа.
