[TOC]

### Задание 1

Приложение Mesto было разбито на следующие микро-фронтенды:

- **_mesto_** - хост/контейнер к которому подключаются удаленные приложения. По совокупности является стейт-менеджером и может прокидывать актуальные стейты в другие компоненты. Так же является маршритизатором.

- **_auth_** - отвечает за логин и регистрацию пользователей. Содежит соответствующее api

- **_profile_** - содержит компоненты и логику по взаимодействию с профилем

- **_post_** - содержит все компоненты относящиеся к постам: лента, лайки, карточки и API-запросы для работы с ними

У каждого микрофронтенда есть свои компоненты, стили, логика по работе API и Dockerfile.

Для запуска выполнить `docker compose up`

### Задание 2

[Схема](task.xml)

В результате разбиения монолита получились следующие микросервисы:

- **_Заказы_** - сервис по работе с заказами. Создает, редактирует, предоставляет подробную инфорацияю о заказе
- **_Нотификации_** - отвечает за различные виды уведомлений пользователя (push, email, sms)
- **_Услуги_** - содержил логику работы и данные связанные с сущностью Услуги
- **_Товары_** - содержил логику работы и данные связанные с сущностью Товары
- **_Аукционы_** - содержил логику работы и данные связанные с сущностью Аукционы
- **_Отчеты_** - предоставляет возможность по генерации различного вида отчетов. Связан с сервисом по геренации документов, который в результате предоставляет готовый документ
- **_Генератор документов_** - генерирует документы по переданным данным. Можно расширять различными видами фортмата документов
- **_Аппеляции_** - сервис отвечает за логику раты с сущностью Аппеляция
- **_Пользователи_** - сервис для работы с пользователями
- **_Техническая поддержка_** - обеспечивает взаимодействие со службой поддержки. Создает и закрываем заявки
- **_Платежи_** - ответственный за работу с различными видами платежей. Предоставляет возможность взаимодействовать с различными платежными сревисами

Пользователи взаимодействуют с микросервисами через API Gateway, который проверяет авторизацию пользователей и их роль в системе.

Практически у каждого микросервиса есть своя база данных. Кроме сервиса нотификаций и отчетов.

Так как построение отчетов может занять продолжительное время, то коммуникация с ним происходит через очередь. Сам сервис отчетности генерирует данные в формате json/xml и дальше передает их в сервис генерации, который может отдать готовый файл в нужном формате.

Для транзакций используется Saga паттерн через оркестрацию. Чтобы не перегружать сервис платежей и не посвящать его в логику других микросервисов, оркестратор будет узнавать у платежных систем статус транзакции, после чего будет менять статус транзакции и заказа, а так же отправлять нотификации пользователю с результатом платежа.
